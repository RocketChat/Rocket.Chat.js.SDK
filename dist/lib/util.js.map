{"version":3,"file":"util.js","sourceRoot":"","sources":["../../src/lib/util.ts"],"names":[],"mappings":";;AAGA,8EAA8E;AAC9E,SAAgB,QAAQ,CACtB,IAAO,EACP,gBAAgB,GAAG,GAAG,EACtB,SAAS,GAAG,KAAK;IAEjB,IAAI,OAAiC,CAAA;IACrC,OAAO,UAAqB,GAAG,IAAW;QACxC,MAAM,IAAI,GAAG,IAAI,CAAA;QACjB,MAAM,OAAO,GAAG;YACd,OAAO,GAAG,SAAS,CAAA;YACnB,IAAI,CAAC,SAAS;gBAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;QACxC,CAAC,CAAA;QACD,MAAM,OAAO,GAAG,SAAS,IAAI,OAAO,KAAK,SAAS,CAAA;QAClD,IAAI,OAAO;YAAE,YAAY,CAAC,OAAO,CAAC,CAAA;QAClC,OAAO,GAAG,UAAU,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAA;QAC/C,IAAI,OAAO;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;IACrC,CAAQ,CAAA;AACV,CAAC;AAjBD,4BAiBC;AAED,2DAA2D;AAC3D,SAAgB,QAAQ,CAAE,IAAY,EAAE,GAAG,GAAG,KAAK;IACjD,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAA;IAC1C,OAAO,KAAK,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,MAAM,IAAI,EAAE,CAAA;AACxC,CAAC;AAHD,4BAGC","sourcesContent":["/** A function that emits a side effect and does not return anything. */\nexport type Procedure = (...args: any[]) => void\n\n/** Delay invocation of a function until some time after it was last called */\nexport function debounce<F extends Procedure> (\n  func: F,\n  waitMilliseconds = 100,\n  immediate = false\n): F {\n  let timeout: NodeJS.Timer | undefined\n  return function (this: any, ...args: any[]) {\n    const self = this\n    const doLater = function () {\n      timeout = undefined\n      if (!immediate) func.apply(self, args)\n    }\n    const callNow = immediate && timeout === undefined\n    if (timeout) clearTimeout(timeout)\n    timeout = setTimeout(doLater, waitMilliseconds)\n    if (callNow) func.apply(self, args)\n  } as any\n}\n\n/** Convert a http/s protocol address to a websocket URL */\nexport function hostToWS (host: string, ssl = false) {\n  host = host.replace(/^(https?:\\/\\/)?/, '')\n  return `ws${ssl ? 's' : ''}://${host}`\n}\n"]}